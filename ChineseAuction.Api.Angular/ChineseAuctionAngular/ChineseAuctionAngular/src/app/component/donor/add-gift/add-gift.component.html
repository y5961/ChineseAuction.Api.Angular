<div class="add-gift-container">
  <div class="form-grid">
    <div class="form-group">
      <label>砖 转</label>
      <input type="text" [(ngModel)]="newGift.name">
    </div>

    <div class="form-group">
      <label>拽专</label>
      <select [(ngModel)]="newGift.categoryId" class="custom-select">
        <option [ngValue]="0" disabled>专 拽专...</option>
        <option *ngFor="let cat of categories" [ngValue]="cat.id">{{cat.name}}</option>
      </select>
    </div>

    <div class="form-group">
      <label>转 (1-500)</label>
      <input type="number" [(ngModel)]="newGift.amount" min="1" max="500">
    </div>

    <div class="form-group full-width">
      <label>转专 转</label>
      <textarea [(ngModel)]="newGift.description" placeholder="住驻专 注 转..."></textarea>
    </div>

    <div class="form-group full-width image-box">
      <div class="tabs">
        <button type="button" (click)="uploadMode='file'" [class.active]="uploadMode==='file'"> 注转 拽抓</button>
        <button type="button" (click)="uploadMode='manual'" [class.active]="uploadMode==='manual'">锔 拽住 驻砖</button>
      </div>
      
      <div class="content" *ngIf="uploadMode==='file'">
        <input type="file" (change)="onFileSelected($event)" id="fileInput" accept="image/*" hidden>
        <label for="fileInput" class="upload-label">
          <div class="preview-container">
            <img *ngIf="imagePreview" [src]="imagePreview" class="preview">
            <div *ngIf="!imagePreview" class="placeholder-icon"></div>
          </div>
          <span class="upload-hint">{{ imagePreview ? '爪 驻转 转' : '爪 专转 转' }}</span>
        </label>
      </div>

      <input *ngIf="uploadMode==='manual'" 
             type="text" 
             class="manual-input"
             [(ngModel)]="newGift.image" 
             placeholder="拽  转 转 (URL)">
    </div>
  </div>

  <button class="btn-save" (click)="saveGift()" [disabled]="isSubmitting || isUploading || newGift.amount < 1">
    {{ isSubmitting ? '砖专 转...' : '砖专 转 转专' }}
  </button>
</div>