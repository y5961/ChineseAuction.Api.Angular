<div class="packages-container" dir="rtl">
  <h2 class="section-title">×©×œ×‘ 1: ×‘×—×™×¨×ª ×—×‘×™×œ×•×ª ×›×¨×˜×™×¡×™×</h2>

  <div class="packages-grid">
    @for (packageItem of packages(); track packageItem.idPackage) {
      <div class="package-card" [style.background]="getPackageGradient(packageItem.idPackage)">
        
        @if($any(packageItem).amountPremium > 0) {
          <div class="premium-badge-glass">
            <i class="pi pi-star-fill"></i>
            <span>PREMIUM</span>
          </div>
        }

        <div class="card-content">
          <span class="label-mini">×—×‘×™×œ×ª</span>
          <h3 class="main-title">{{ packageItem.amountRegular }} ×›×¨×˜×™×¡×™×</h3>
          <div class="price-bubble">
            <span class="currency">â‚ª</span>
            <span class="amount">{{ packageItem.price }}</span>
          </div>

          <div class="bonus-highlight" [class.hidden]="$any(packageItem).amountPremium <= 0">
            <div class="bonus-inner">
              <span class="gift-icon">ğŸ</span>
              <div class="bonus-text">
                ×•×¢×•×“ <strong>{{ $any(packageItem).amountPremium }}</strong> ×›×¨×˜×™×¡×™ ×¤×¨×™××™×•×!
              </div>
            </div>
          </div>
        </div>

        <div class="image-wrapper">
          <img [src]="imageUrl + ($any(packageItem).image || getPackageImage(packageItem.idPackage))" 
               class="package-img" 
               alt="×—×‘×™×œ×”" />
        </div>

        <div class="action-footer">
          <div class="quantity-pill">
            <button class="qty-btn" (click)="handlePackageUpdate(packageItem.idPackage, 'increment')">+</button>
            <span class="qty-val">{{ packageQuantities()[packageItem.idPackage] || 0 }}</span>
            <button class="qty-btn" (click)="handlePackageUpdate(packageItem.idPackage, 'decrement')">-</button>
          </div>
          <span class="add-text">×œ×”×•×¡×¤×” ×œ×¡×œ</span>
        </div>
      </div>
    }
  </div>
</div>