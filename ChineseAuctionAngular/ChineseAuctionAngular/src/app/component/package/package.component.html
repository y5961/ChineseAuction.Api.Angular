<div class="gifts-container" dir="rtl">
  <h2 class="section-title">מכירה סינית - חבילות משתלמות</h2>

  <div class="gifts-grid">
    
    @for (packageItem of packages(); track packageItem.idPackage) {
      <div class="gift-card animate-in">
        @if((packageItem.amountPremium ?? 0) > 0) {
          <div class="premium-badge">פרימיום</div>
        }

        <div class="card-header">
          <h3 class="package-name">{{ packageItem.name }}</h3>
          <p class="package-desc">{{ packageItem.description }}</p>
        </div>

        <div class="package-details">
          <div class="detail-row">
            <span>כרטיסים רגילים:</span>
            <strong>{{ packageItem.amountRegular }}</strong>
          </div>
          @if((packageItem.amountPremium ?? 0) > 0) {
            <div class="detail-row premium-text">
              <span>כרטיסי פרימיום:</span>
              <strong>{{ packageItem.amountPremium }}</strong>
            </div>
          }
        </div>

        <div class="card-footer">
          <div class="price-box">
            <span class="currency">₪</span>
            <span class="price-value">{{ packageItem.price }}</span>
          </div>

          <div class="quantity-picker">
            <button class="qty-btn" (click)="increment(packageItem.idPackage)">+</button>
            <span class="qty-num">
              {{ packageQuantities()[packageItem.idPackage] || 0 }}
            </span>
            <button class="qty-btn" (click)="decrement(packageItem.idPackage)">-</button>
          </div>
        </div>
      </div>
    } @empty {
      <div class="loading">טוען חבילות...</div>
    }
  </div>
</div>